# Sistema de Dicas Din√¢mico - City Guide

## üß† **Vis√£o Geral**

Sistema inteligente de cadastro de dicas que se adapta automaticamente ao tipo de lugar selecionado, permitindo a inclus√£o de informa√ß√µes gen√©ricas ou espec√≠ficas por categoria. O sistema utiliza IA para detectar automaticamente o tipo de estabelecimento e preencher campos espec√≠ficos.

## üèóÔ∏è **Arquitetura**

### **Tipos de Dica**
- **üçΩÔ∏è Gastronomia**: Restaurantes, caf√©s, bares, padarias
- **üåÑ Day Off**: Roteiros de descanso e lazer
- **üõèÔ∏è Pousadas/Hot√©is**: Hospedagem com parcerias
- **üì∏ Turismo**: Pontos tur√≠sticos e atra√ß√µes
- **‚ú® Outro**: Outras categorias

### **Estrutura de Dados**
```typescript
interface CityTip {
  id: string;
  title: string;
  description: string;
  location: string;
  region: string;
  imageUrls: string[];
  mapUrl?: string;
  target: 'driver' | 'client' | 'both';
  tags: string[];
  comment?: string;
  tipType: 'gastronomia' | 'day-off' | 'pousada' | 'turismo' | 'outro';
  
  // Campos espec√≠ficos por categoria (condicionais)
  gastronomia?: {
    priceRange: '$' | '$$' | '$$$' | '$$$$';
    cuisineType: string;
    openingHours: string;
    menuUrl?: string;
  };
  dayOff?: {
    travelTime: string;
    estimatedCost: string;
    positivePoints: string[];
    nearbyFood?: string;
    idealFor: string[];
    bonusTip?: string;
  };
  pousada?: {
    partnershipType: 'discount' | 'gift' | 'other';
    couponCode?: string;
    validUntil?: string;
    bookingUrl?: string;
    whatsapp?: string;
    averagePrice: string;
  };
  turismo?: {
    bestTime: string;
    needsTicket: boolean;
    ticketUrl?: string;
    hasLocalGuide: boolean;
    accessibilityLevel: 'low' | 'medium' | 'high';
  };
  
  contributorName?: string;
  status: 'draft' | 'published' | 'pending';
  createdAt: string;
  updatedAt?: string;
  averageRating?: number;
  reviewCount?: number;
}
```

## üßæ **Campos por Categoria**

### **Campos Gen√©ricos (Todas as Categorias)**
- `title`: Nome do local
- `description`: Descri√ß√£o curta
- `location`: Localiza√ß√£o/endere√ßo
- `region`: Regi√£o de SP ou regi√£o vizinha
- `imageUrls`: Imagens do local
- `target`: Para quem √© a dica (Motorista/Passageiro/Ambos)
- `tags`: Tags para categoriza√ß√£o
- `comment`: Opini√£o sincera (opcional)
- `mapUrl`: Link do Google Maps (opcional)
- `contributorName`: Nome do colaborador (opcional)

### **üçΩÔ∏è Gastronomia**
- `priceRange`: Faixa de pre√ßo ($, $$, $$$, $$$$)
- `cuisineType`: Tipo de culin√°ria (brasileira, japonesa, etc.)
- `openingHours`: Hor√°rio de funcionamento
- `menuUrl`: Link de card√°pio online (opcional)

### **üåÑ Day Off**
- `travelTime`: Tempo de deslocamento
- `estimatedCost`: Gasto estimado total
- `positivePoints`: Pontos positivos (estacionamento, seguran√ßa, etc.)
- `nearbyFood`: Alimenta√ß√£o pr√≥xima (opcional)
- `idealFor`: Ideal para (relaxar, fam√≠lia, etc.)
- `bonusTip`: Dica b√¥nus (opcional)

### **üõèÔ∏è Pousadas/Hot√©is**
- `partnershipType`: Tipo de parceria (desconto, brinde, outro)
- `couponCode`: C√≥digo do cupom (opcional)
- `validUntil`: V√°lido at√© (opcional)
- `bookingUrl`: Link de reserva (opcional)
- `whatsapp`: WhatsApp da pousada (opcional)
- `averagePrice`: Pre√ßo m√©dio por di√°ria

### **üì∏ Turismo**
- `bestTime`: Melhor hor√°rio para visita
- `needsTicket`: Precisa de ingresso? (sim/n√£o)
- `ticketUrl`: Link de compra (opcional)
- `hasLocalGuide`: Possui guia local? (sim/n√£o)
- `accessibilityLevel`: N√≠vel de acessibilidade (baixo, m√©dio, alto)

## üß† **IA Inteligente - Detec√ß√£o Autom√°tica**

### **Funcionalidades da IA**
- **Detec√ß√£o Autom√°tica de Tipo**: Analisa palavras-chave no prompt para identificar o tipo de estabelecimento
- **Preenchimento Inteligente**: Preenche automaticamente campos espec√≠ficos baseado no tipo detectado
- **Gera√ß√£o Contextualizada**: Cria t√≠tulos e descri√ß√µes relevantes para o p√∫blico-alvo
- **Tags Autom√°ticas**: Gera tags relevantes baseadas no conte√∫do

### **Palavras-chave de Detec√ß√£o**
```typescript
const gastronomiaKeywords = [
  'restaurante', 'caf√©', 'bar', 'padaria', 'lanchonete', 'pizzaria', 
  'hamburgueria', 'sorveteria', 'doceria', 'churrascaria', 'japon√™s', 
  'chin√™s', 'italiano', '√°rabe', 'mexicano', 'comida', 'almo√ßo', 'jantar', 'lanche'
];

const dayOffKeywords = [
  'parque', 'pra√ßa', 'museu', 'shopping', 'cinema', 'teatro', 'spa', 
  'massagem', 'trilha', 'cachoeira', 'passeio', 'day off', 'descanso', 
  'lazer', 'recrea√ß√£o', 'divers√£o'
];

const pousadaKeywords = [
  'pousada', 'hotel', 'hostel', 'resort', 'hospedagem', 'acomoda√ß√£o', 
  'pernoite', 'di√°ria', 'reserva', 'booking'
];

const turismoKeywords = [
  'tur√≠stico', 'monumento', 'igreja', 'castelo', 'mirante', 'atra√ß√£o', 
  'ponto tur√≠stico', 'hist√≥rico', 'cultural', 'arte', 'exposi√ß√£o', 'galeria'
];
```

### **Exemplos de Prompts Inteligentes**
- **Gastronomia**: "restaurante japon√™s barato na zona sul", "caf√© 24h com estacionamento"
- **Day Off**: "parque para relaxar no day off", "shopping com cinema e restaurantes"
- **Pousada**: "pousada econ√¥mica no litoral", "hotel com desconto para motoristas"
- **Turismo**: "monumento hist√≥rico no centro", "museu de arte moderna"

## üé® **Interface do Usu√°rio**

### **Formul√°rio Din√¢mico**
- **Se√ß√£o de IA Inteligente**: Campo para descri√ß√£o do lugar com detec√ß√£o autom√°tica
- **Sele√ß√£o Visual de Tipo**: Cards com √≠cones para escolha do tipo de dica
- **Abas Organizadas**: 
  - Informa√ß√µes B√°sicas
  - Campos Espec√≠ficos (din√¢micos)
  - M√≠dia & Links
- **Anima√ß√µes Suaves**: Transi√ß√µes com Framer Motion
- **Feedback Visual**: Confetti e toasts para sucesso

### **Sistema de Status**
- **Rascunho**: Dica salva mas n√£o publicada
- **Publicado**: Dica vis√≠vel para todos
- **Pendente**: Aguardando modera√ß√£o

### **Prompts Inteligentes**
- Exemplos organizados por categoria
- Clique para preencher automaticamente
- Sugest√µes contextuais baseadas no p√∫blico-alvo

## ‚ö° **Funcionalidades**

### **Filtros e Busca**
- Por tipo de dica
- Por regi√£o
- Por p√∫blico-alvo (motorista/cliente)
- Por status (publicado/rascunho)
- Busca por texto

### **Sistema de Avalia√ß√£o**
- Avalia√ß√£o por estrelas (0-5)
- Coment√°rios dos usu√°rios
- M√©dia de avalia√ß√£o
- Contador de reviews

### **Links Espec√≠ficos**
- **Gastronomia**: Link do card√°pio
- **Pousada**: Link de reserva, WhatsApp
- **Turismo**: Link de compra de ingressos
- **Todos**: Link do Google Maps

### **Gest√£o de Status**
- Publicar/despublicar dicas
- Modera√ß√£o autom√°tica/manual
- Sistema de rascunhos

## üöÄ **Como Usar**

### **Criando uma Dica**
1. **Usar IA Inteligente**:
   - Selecione o p√∫blico-alvo
   - Digite a descri√ß√£o do lugar
   - Clique em "Gerar" para detec√ß√£o autom√°tica
   - A IA preencher√° automaticamente os campos espec√≠ficos

2. **Preenchimento Manual**:
   - Selecione o tipo de dica
   - Preencha os campos b√°sicos
   - Complete os campos espec√≠ficos que aparecem
   - Adicione imagens e links

3. **Salvar**:
   - Salvar como rascunho
   - Publicar diretamente

### **Editando uma Dica**
- Acesse a lista de dicas
- Clique em "Editar"
- Modifique os campos necess√°rios
- Salve as altera√ß√µes

### **Gerenciando Status**
- Visualize dicas por status
- Publique rascunhos
- Despublique dicas ativas
- Exclua dicas desnecess√°rias

## üí° **Benef√≠cios**

### **Para Usu√°rios**
- **Usabilidade**: Interface intuitiva e responsiva
- **Relev√¢ncia**: Conte√∫do espec√≠fico por categoria
- **Efici√™ncia**: IA preenche automaticamente campos
- **Organiza√ß√£o**: Estrutura clara e organizada

### **Para Parceiros**
- **Visibilidade**: Destaque para estabelecimentos parceiros
- **Engajamento**: Sistema de cupons e descontos
- **Feedback**: Avalia√ß√µes e coment√°rios
- **Promo√ß√£o**: Links diretos para reservas

### **Para Administradores**
- **Modera√ß√£o**: Controle de qualidade do conte√∫do
- **Analytics**: M√©tricas de engajamento
- **Flexibilidade**: Sistema adapt√°vel a novos tipos
- **Escalabilidade**: Suporte a m√∫ltiplas regi√µes

## üîÆ **Funcionalidades Futuras**

### **Sistema de Ranking**
- Mais salvas
- Mais acessadas
- Melhor avaliadas
- Trending

### **IA Avan√ßada**
- Gera√ß√£o de imagens com IA
- An√°lise de sentimento em reviews
- Recomenda√ß√µes personalizadas
- Tradu√ß√£o autom√°tica

### **Integra√ß√µes**
- Google Places API
- TripAdvisor
- Booking.com
- WhatsApp Business

### **Recursos Sociais**
- Compartilhamento em redes sociais
- Sistema de favoritos
- Coment√°rios e respostas
- Gamifica√ß√£o (badges, pontos)

## üõ†Ô∏è **Tecnologias Utilizadas**

### **Frontend**
- **Next.js 14**: Framework React
- **TypeScript**: Tipagem est√°tica
- **Tailwind CSS**: Estiliza√ß√£o
- **Framer Motion**: Anima√ß√µes
- **React Hook Form**: Gerenciamento de formul√°rios
- **Zod**: Valida√ß√£o de schemas

### **Backend**
- **Firebase Firestore**: Banco de dados
- **Firebase Storage**: Armazenamento de imagens
- **Next.js Server Actions**: API routes

### **UI Components**
- **shadcn/ui**: Componentes base
- **Lucide React**: √çcones
- **Canvas Confetti**: Efeitos visuais

### **IA e Automa√ß√£o**
- **Detec√ß√£o de Palavras-chave**: Algoritmo customizado
- **Gera√ß√£o de Conte√∫do**: L√≥gica inteligente
- **Valida√ß√£o Condicional**: Schemas din√¢micos

## üìä **Estrutura de Arquivos**

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ (dashboard)/admin/city-guide/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tip-form.tsx          # Formul√°rio principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ city-guide-client.tsx # Lista de dicas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx              # P√°gina admin
‚îÇ   ‚îî‚îÄ‚îÄ actions/
‚îÇ       ‚îî‚îÄ‚îÄ city-guide-actions.ts # Server actions
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ city-tip-card.tsx         # Card de exibi√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ ai-tip-generator-demo.tsx # Demo da IA
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ city-guide-schemas.ts     # Schemas Zod
‚îÇ   ‚îî‚îÄ‚îÄ types.ts                  # Tipos TypeScript
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ city-guide-system.md      # Esta documenta√ß√£o
```

## üéØ **Exemplos de Uso**

### **Exemplo 1: Restaurante Japon√™s**
```
Prompt: "restaurante japon√™s barato na zona sul"
IA Detecta: Gastronomia
Campos Preenchidos:
- Tipo: Gastronomia
- Faixa de Pre√ßo: $ (Econ√¥mico)
- Culin√°ria: Japonesa
- Hor√°rio: Seg a Sex 11h-23h, S√°b e Dom 12h-00h
- Tags: gastronomia, comida, japon√™s, barato
```

### **Exemplo 2: Parque para Day Off**
```
Prompt: "parque para relaxar no day off"
IA Detecta: Day Off
Campos Preenchidos:
- Tipo: Day Off
- Tempo de Deslocamento: 30-45 min de carro
- Custo: R$ 50-100 por pessoa
- Pontos Positivos: Ar livre, Gratuito, Bom para crian√ßas
- Ideal Para: Relaxar, Descansar, Fazer exerc√≠cios
```

### **Exemplo 3: Pousada no Litoral**
```
Prompt: "pousada econ√¥mica no litoral"
IA Detecta: Pousada
Campos Preenchidos:
- Tipo: Pousada
- Parceria: Desconto
- Pre√ßo: R$ 200-350 por di√°ria
- Tags: hospedagem, acomoda√ß√£o, litoral
```

Este sistema oferece uma experi√™ncia completa e inteligente para cria√ß√£o e gest√£o de dicas da cidade, com foco na usabilidade e relev√¢ncia do conte√∫do. 